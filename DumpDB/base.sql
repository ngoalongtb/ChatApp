Use master
CREATE DATABASE ChatApp

GO

USE ChatApp

GO
CREATE TABLE TaiKhoan(
	TenTaiKhoan VARCHAR(255) PRIMARY KEY,
	MatKhau VARCHAR(255),
	TenHienThi NVARCHAR(255),
	HinhAnh NVARCHAR(255),
	SoDienThoai VARCHAR(20),
	MaLoaiTaiKhoan INT
)

GO
CREATE TABLE LoaiTaiKhoan(
	MaLoaiTaiKhoan INT IDENTITY PRIMARY KEY,
	TenLoaiTaiKhoan NVARCHAR(255)
)
GO

ALTER TABLE TaiKhoan
ADD FOREIGN KEY(MaLoaiTaiKhoan) REFERENCES LoaiTaiKhoan(MaLoaiTaiKhoan)
ON DELETE CASCADE
ON UPDATE CASCADE

GO

CREATE TABLE DanhMuc(
	MaDanhMuc INT IDENTITY PRIMARY KEY,
	TenDanhMuc NVARCHAR(255)
)

GO

CREATE TABLE ChuDe(
	MaChuDe INT IDENTITY PRIMARY KEY,
	TenChuDe NVARCHAR(255),
	MaDanhMuc INT
)
Go
ALTER TABLE ChuDe
ADD FOREIGN KEY(MaDanhMuc) REFERENCES DanhMuc(MaDanhMuc)
ON DELETE CASCADE
ON UPDATE CASCADE
GO

CREATE TABLE TinNhanChuDe(
	MaTinNhan BIGINT IDENTITY PRIMARY KEY,
	TenTaiKhoan VARCHAR(255),
	NoiDung NVARCHAR(MAX),
	MaChuDe INT
)

Go
ALTER TABLE TinNhanChuDe
ADD FOREIGN KEY(MaChuDe) REFERENCES ChuDe(MaChuDe)
ON DELETE CASCADE
ON UPDATE CASCADE

GO

CREATE TABLE Nhom(
	MaNhom INT IDENTITY PRIMARY KEY,
	TenNhom NVARCHAR(255)
)
GO

CREATE TABLE ThongTinNhom(
	MaThongTinNhom INT IDENTITY PRIMARY KEY,
	TenTaiKhoan VARCHAR(255),
	MaNhom INT
)
Go
ALTER TABLE ThongTinNhom
ADD FOREIGN KEY(MaNhom) REFERENCES Nhom(MaNhom)
ON DELETE CASCADE
ON UPDATE CASCADE
GO

CREATE TABLE TinNhanNhom(
	MaTinNhanNhom INT IDENTITY PRIMARY KEY,
	TenTaiKhoan VARCHAR(255),
	NoiDung NVARCHAR(MAX),
	MaNhom INT
)
Go
ALTER TABLE TinNhanNhom
ADD FOREIGN KEY(MaNhom) REFERENCES Nhom(MaNhom)
ON DELETE CASCADE
ON UPDATE CASCADE
select *from LoaiTaiKhoan
select *from TaiKhoan

INSERT INTO TaiKhoan VALUES('minh','12345','anh','anh1.jpg','123456',1);

